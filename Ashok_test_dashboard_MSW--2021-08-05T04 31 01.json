{"title":"test_dashboard_MSW","description":"Our Kubernetes dashboard gives you broad visibility into the scale, status, and resource usage of your cluster and its containers. Further reading for Kubernetes monitoring:\n\n- [Autoscale Kubernetes workloads with any Datadog metric](https://www.datadoghq.com/blog/autoscale-kubernetes-datadog/)\n\n- [How to monitor Kubernetes + Docker with Datadog](https://www.datadoghq.com/blog/monitor-kubernetes-docker/)\n\n- [Monitoring in the Kubernetes era](https://www.datadoghq.com/blog/monitoring-kubernetes-era/)\n\n- [Monitoring Kubernetes performance metrics](https://www.datadoghq.com/blog/monitoring-kubernetes-performance-metrics/)\n\n- [Collecting metrics with built-in Kubernetes monitoring tools](https://www.datadoghq.com/blog/how-to-collect-and-graph-kubernetes-metrics/)\n\n- [Monitoring Kubernetes with Datadog](https://www.datadoghq.com/blog/monitoring-kubernetes-with-datadog/)\n\n- [Datadog's Kubernetes integration docs](https://docs.datadoghq.com/integrations/kubernetes/)\n\nClone this template dashboard to make changes and add your own graph widgets. (cloned) (cloned)","widgets":[{"id":1,"layout":{"x":37,"y":15,"width":32,"height":14},"definition":{"title":"Most CPU-intensive pods","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{"live_span":"4h"},"type":"timeseries","requests":[{"formulas":[{"formula":"top(query1, 10, 'mean', 'desc')"}],"response_format":"timeseries","queries":[{"query":"sum:kubernetes.cpu.usage.total{$cluster} by {pod_name}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]}},{"id":9,"layout":{"x":103,"y":0,"width":29,"height":14},"definition":{"title":"Pods unavailable","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{"live_span":"5m"},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:kubernetes_state.deployment.replicas_unavailable{$scope,$deployment,$daemonset,$service,$label,$namespace,$node,$cluster} by {deployment}","data_source":"metrics","name":"query1"}],"style":{"palette":"orange","line_type":"solid","line_width":"normal"},"display_type":"area"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]}},{"id":12,"layout":{"x":0,"y":34,"width":36,"height":54},"definition":{"time":{"live_span":"1w"},"type":"event_stream","query":"tags:cluster_name:$cluster.value","tags_execution":"and","event_size":"s"}},{"id":15,"layout":{"x":103,"y":75,"width":29,"height":11},"definition":{"title":"Network errors per node","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{"live_span":"4h"},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:kubernetes.network.rx_errors{$scope,$deployment,$daemonset,$namespace,$label,$service,$node,$cluster} by {host}","data_source":"metrics","name":"query1"}],"style":{"palette":"warm"},"display_type":"bars"},{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:kubernetes.network.tx_errors{$scope,$deployment,$daemonset,$namespace,$label,$service,$node,$cluster} by {host}","data_source":"metrics","name":"query1"}],"style":{"palette":"warm"},"display_type":"bars"},{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:kubernetes.network_errors{$scope,$deployment,$daemonset,$namespace,$label,$service,$node,$cluster} by {host}","data_source":"metrics","name":"query1"}],"style":{"palette":"warm","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]}},{"id":19,"layout":{"x":37,"y":75,"width":32,"height":11},"definition":{"title":"Network in per node","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{"live_span":"4h"},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:kubernetes.network.rx_bytes{$scope,$deployment,$daemonset,$namespace,$label,$service,$node,$cluster} by {host}","data_source":"metrics","name":"query1"}],"style":{"palette":"purple"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]}},{"id":20,"layout":{"x":70,"y":75,"width":32,"height":11},"definition":{"title":"Network out per node","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{"live_span":"4h"},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:kubernetes.network.tx_bytes{$scope,$deployment,$daemonset,$namespace,$label,$service,$node,$cluster} by {host}","data_source":"metrics","name":"query1"}],"style":{"palette":"green"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]}},{"id":22,"layout":{"x":0,"y":22,"width":36,"height":9},"definition":{"title":"Number of Kubernetes events per node","title_size":"16","title_align":"left","time":{"live_span":"4h"},"type":"event_timeline","query":"sources:kubernetes tags:cluster_name:$cluster.value $node","tags_execution":"and"}},{"id":23,"layout":{"x":0,"y":87,"width":36,"height":16},"definition":{"title":"CPU utilization per node","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:kubernetes.cpu.usage.total{$cluster} by {host}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]}},{"id":42,"layout":{"x":37,"y":0,"width":32,"height":14},"definition":{"title":"Pods in bad phase by namespaces","title_size":"16","title_align":"left","type":"toplist","requests":[{"formulas":[{"formula":"query1","limit":{"count":100,"order":"desc"}}],"conditional_formats":[{"comparator":">","palette":"white_on_red","value":0},{"comparator":"<=","palette":"white_on_green","value":0}],"response_format":"scalar","queries":[{"query":"sum:kubernetes_state.pod.status_phase{$scope,$namespace,$deployment,$daemonset,!phase:running,!phase:succeeded,$label,$node,$service,$cluster} by {kube_namespace,phase,cluster_name}","data_source":"metrics","name":"query1","aggregator":"last"}]}]}},{"id":2584144045929236,"layout":{"x":0,"y":0,"width":36,"height":21},"definition":{"type":"manage_status","summary_type":"monitors","display_format":"countsAndList","color_preference":"text","hide_zero_counts":true,"show_last_triggered":false,"query":"tag:(env:prodsim)","sort":"status,asc","count":50,"start":0}},{"id":4765887583387278,"layout":{"x":42,"y":134,"width":27,"height":12},"definition":{"title":"Unhealthy hosts count (max)","title_size":"13","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{"live_span":"4h"},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:aws.applicationelb.un_healthy_host_count{$cluster}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:aws.applicationelb.un_healthy_host_count{$cluster}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"search":{"query":""},"data_source":"logs","compute":{"aggregation":"count"},"name":"query1","indexes":["*"],"group_by":[]}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]}},{"id":6184824287394082,"layout":{"x":17,"y":134,"width":24,"height":12},"definition":{"title":"Healthy hosts count (min)","title_size":"13","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{"live_span":"4h"},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:system.cpu.user{$cluster} by {service}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]}},{"id":8669931009722726,"layout":{"x":17,"y":147,"width":24,"height":12},"definition":{"title":"HTTP 2xx Responses","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{"live_span":"4h"},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:aws.applicationelb.httpcode_target_2xx{$cluster} by {host}.as_count()","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic"},"display_type":"bars"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]}},{"id":5501114554893414,"layout":{"x":0,"y":134,"width":16,"height":12},"definition":{"type":"image","url":"/static/images/saas_logos/bot/amazon_alb.png","sizing":"center"}},{"id":8548482849403546,"layout":{"x":70,"y":134,"width":32,"height":12},"definition":{"title":"Requests per second (avg)","title_size":"13","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{"live_span":"4h"},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:aws.applicationelb.request_count{$cluster} by {service}.as_rate()","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]}},{"id":8987505734620050,"layout":{"x":103,"y":134,"width":29,"height":12},"definition":{"title":"Response time  (avg)","title_size":"13","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{"live_span":"4h"},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:system.load.1{$cluster}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]}},{"id":6402648904718350,"layout":{"x":0,"y":147,"width":16,"height":12},"definition":{"type":"note","content":"HTTP Responses","background_color":"gray","font_size":"18","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"right"}},{"id":3641393409970520,"layout":{"x":42,"y":147,"width":27,"height":12},"definition":{"title":"HTTP 3xx Responses","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{"live_span":"4h"},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:aws.applicationelb.httpcode_target_3xx{$cluster} by {host}.as_count()","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic"},"display_type":"bars"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]}},{"id":3586104194448556,"layout":{"x":70,"y":147,"width":32,"height":12},"definition":{"title":"HTTP 4xx Responses","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{"live_span":"4h"},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:aws.applicationelb.httpcode_target_4xx{$cluster} by {host}.as_count()","data_source":"metrics","name":"query1"}],"style":{"palette":"warm"},"display_type":"bars"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]}},{"id":7593065246135800,"layout":{"x":103,"y":147,"width":29,"height":12},"definition":{"title":"HTTP 5xx Responses","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{"live_span":"4h"},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:aws.applicationelb.httpcode_target_5xx{$cluster} by {host}.as_count()","data_source":"metrics","name":"query1"}],"style":{"palette":"warm"},"display_type":"bars"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]}},{"id":4663491933371350,"layout":{"x":0,"y":174,"width":132,"height":32},"definition":{"title":"","title_size":"16","title_align":"left","type":"log_stream","indexes":[],"query":"","sort":{"column":"time","order":"desc"},"columns":["host","service"],"show_date_column":true,"show_message_column":true,"message_display":"expanded-md"}},{"id":1589695954774684,"layout":{"x":0.08333333333333333,"y":160,"width":16,"height":13},"definition":{"type":"note","content":"Connections and Latencies","background_color":"gray","font_size":"18","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"right"}},{"id":3604876545098998,"layout":{"x":17,"y":160,"width":52,"height":13},"definition":{"title":"Active Connections","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{"live_span":"4h"},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:system.cpu.user{$cluster} by {service}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]}},{"id":7096266532585774,"layout":{"x":70,"y":160,"width":62,"height":13},"definition":{"title":"Response Time","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{"live_span":"4h"},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:system.cpu.user{$cluster} by {host}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]}},{"id":2411944913468482,"layout":{"x":70,"y":15,"width":32,"height":14},"definition":{"title":"CPU Usage by Pod","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"vertical","legend_columns":["avg","max","value"],"type":"timeseries","requests":[{"formulas":[{"alias":"CPU Usage","formula":"query1"}],"response_format":"timeseries","on_right_yaxis":false,"queries":[{"query":"sum:kubernetes.cpu.usage.total{*,$namespace,$deployment,$scope,*,$daemonset,*,$cluster} by {pod_name}","data_source":"metrics","name":"query1"}],"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]}},{"id":4616411553499744,"layout":{"x":103,"y":15,"width":29,"height":14},"definition":{"title":"Memory-intensive pods","title_size":"16","title_align":"left","time":{"live_span":"4h"},"type":"toplist","requests":[{"formulas":[{"formula":"query1","limit":{"count":10,"order":"desc"}}],"response_format":"scalar","queries":[{"query":"sum:kubernetes.memory.usage{$scope,$namespace,$deployment,!pod_name:no_pod,*,*,$daemonset,*,$cluster} by {pod_name}","data_source":"metrics","name":"query1","aggregator":"avg"}]}]}},{"id":3616290303413574,"layout":{"x":70,"y":45,"width":32,"height":14},"definition":{"title":"Memory Usage by Pod","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"vertical","legend_columns":["avg","max","value"],"type":"timeseries","requests":[{"formulas":[{"alias":"Memory Usage","formula":"query1"}],"response_format":"timeseries","on_right_yaxis":false,"queries":[{"query":"sum:kubernetes.memory.usage{*,$namespace,$deployment,$scope,*,$daemonset,*,$cluster} by {pod_name}","data_source":"metrics","name":"query1"}],"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]}},{"id":7274656796745872,"layout":{"x":70,"y":0,"width":32,"height":14},"definition":{"title":"Containers in CrashloopBackOff (by Pod)","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"vertical","legend_columns":["avg","max","value"],"type":"timeseries","requests":[{"formulas":[{"alias":"CrashloopBackOff","formula":"query1"}],"response_format":"timeseries","on_right_yaxis":false,"queries":[{"query":"sum:kubernetes.containers.state.waiting{*,$namespace,$deployment,reason:crashloopbackoff,$scope,*,$daemonset,*,$cluster} by {pod_name}","data_source":"metrics","name":"query1"}],"style":{"palette":"purple","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]}},{"id":5015270920073016,"layout":{"x":37,"y":45,"width":32,"height":14},"definition":{"title":"Top Services by # Pods running","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"exclude_null(query1)"}],"response_format":"timeseries","queries":[{"query":"sum:kubernetes.pods.running{$service,$namespace,$scope,$cluster} by {kube_service,kube_namespace,cluster_name}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]}},{"id":8628657206508556,"layout":{"x":70,"y":60,"width":32,"height":14},"definition":{"title":"Most CPU-intensive Services","title_size":"16","title_align":"left","time":{"live_span":"4h"},"type":"toplist","requests":[{"formulas":[{"formula":"exclude_null(query1)","limit":{"count":10,"order":"desc"}}],"response_format":"scalar","queries":[{"query":"sum:kubernetes.cpu.usage.total{$scope,$namespace,$service,!pod_name:no_pod,$cluster} by {kube_service,kube_namespace,kube_cluster_name}","data_source":"metrics","name":"query1","aggregator":"avg"}]}]}},{"id":7083687345183630,"layout":{"x":103,"y":45,"width":29,"height":14},"definition":{"title":"Most memory-intensive Services","title_size":"16","title_align":"left","time":{"live_span":"4h"},"type":"toplist","requests":[{"formulas":[{"formula":"exclude_null(query1)","limit":{"count":10,"order":"desc"}}],"response_format":"scalar","queries":[{"query":"sum:kubernetes.memory.usage{$scope,$namespace,$service,!pod_name:no_pod,$cluster} by {kube_service,kube_namespace,kube_cluster_name}","data_source":"metrics","name":"query1","aggregator":"avg"}]}]}},{"id":8908554730822530,"layout":{"x":0,"y":104,"width":36,"height":14},"definition":{"title":"Memory utilization per node","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"},{"formula":"query1 * 100"}],"response_format":"timeseries","queries":[{"query":"avg:kubernetes.memory.usage_pct{*,*,$cluster} by {host}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":false},"markers":[{"value":"y = 100","display_type":"error dashed"}]}},{"id":8607041389068932,"layout":{"x":37,"y":87,"width":32,"height":16},"definition":{"title":"Total Kubernetes CPU requests per node","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{"live_span":"4h"},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:kubernetes.cpu.requests{*,*,$cluster} by {host}","data_source":"metrics","name":"query1"}],"style":{"palette":"warm","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]}},{"id":4469774207256796,"layout":{"x":70,"y":87,"width":32,"height":16},"definition":{"title":"Total Kubernetes memory requests per node","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{"live_span":"4h"},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:kubernetes.memory.requests{*,*,$cluster} by {host}","data_source":"metrics","name":"query1"}],"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]}},{"id":592513280481610,"layout":{"x":103,"y":87,"width":29,"height":16},"definition":{"title":"Allocatable memory per node","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:kubernetes_state.node.memory_allocatable{*,*,$cluster} by {host}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]}},{"id":5682538796142252,"layout":{"x":37,"y":104,"width":32,"height":14},"definition":{"title":"Kubernetes (requests / capacity) per node","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1 / query2 * 100"}],"response_format":"timeseries","queries":[{"query":"sum:kubernetes.cpu.requests{*,*,$cluster} by {host}","data_source":"metrics","name":"query1"},{"query":"sum:kubernetes.cpu.capacity{*,*,$cluster} by {host}","data_source":"metrics","name":"query2"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[{"value":"y = 100","display_type":"error dashed"}]}},{"id":7479661730493238,"layout":{"x":70,"y":104,"width":32,"height":14},"definition":{"title":"Allocatable memory per node","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:kubernetes_state.node.memory_allocatable{*,*,$cluster} by {host}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]}},{"id":5433246058052526,"layout":{"x":103,"y":104,"width":29,"height":14},"definition":{"title":"Allocatable cpu cores per node","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:kubernetes_state.node.cpu_allocatable{*,*,$cluster} by {host}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]}},{"id":7510414861094766,"layout":{"x":0,"y":119,"width":36,"height":14},"definition":{"title":"CPU Usage by Deployment","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"exclude_null(query1)"}],"response_format":"timeseries","queries":[{"query":"sum:kubernetes.cpu.usage.total{$namespace,$deployment,$scope,*,$cluster} by {kube_cluster_name,kube_namespace,kube_deployment}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]}},{"id":6812529648396778,"layout":{"x":37,"y":119,"width":32,"height":14},"definition":{"title":"Memory Usage by Deployment","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"exclude_null(query1)"}],"response_format":"timeseries","queries":[{"query":"avg:kubernetes.memory.usage{$namespace,$deployment,$scope,*,$cluster} by {kube_deployment,kube_namespace,kube_cluster_name}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]}},{"id":916810976587540,"layout":{"x":70,"y":119,"width":32,"height":14},"definition":{"title":"Most CPU-intensive Deployments","title_size":"16","title_align":"left","time":{"live_span":"4h"},"type":"toplist","requests":[{"formulas":[{"formula":"query1","limit":{"count":10,"order":"desc"}}],"response_format":"scalar","queries":[{"query":"sum:kubernetes.cpu.usage.total{$scope,$namespace,$deployment,!pod_name:no_pod,*,$cluster} by {kube_deployment,kube_namespace,kube_cluster_name}","data_source":"metrics","name":"query1","aggregator":"avg"}]}]}},{"id":8469842403885478,"layout":{"x":103,"y":119,"width":29,"height":14},"definition":{"title":"Most memory-intensive Deployments","title_size":"16","title_align":"left","time":{"live_span":"4h"},"type":"toplist","requests":[{"formulas":[{"formula":"query1","limit":{"count":10,"order":"desc"}}],"response_format":"scalar","queries":[{"query":"sum:kubernetes.memory.usage{$scope,$namespace,$deployment,!pod_name:no_pod,*,$cluster} by {kube_deployment,kube_namespace,kube_cluster_name}","data_source":"metrics","name":"query1","aggregator":"avg"}]}]}},{"id":2172695702508540,"layout":{"x":133,"y":0,"width":19,"height":5},"definition":{"type":"note","content":"[APM Service List](https://app.datadoghq.com/apm/services?env=prodsim&start=1627422188654&end=1627425788654&paused=false)","background_color":"white","font_size":"14","text_align":"left","vertical_align":"top","show_tick":false,"tick_pos":"50%","tick_edge":"left","has_padding":true}},{"id":3351064311084932,"layout":{"x":133,"y":6,"width":19,"height":5},"definition":{"type":"note","content":"[APM Service Map](https://app.datadoghq.com/apm/map?env=prodsim&start=1627422539957&end=1627426139957&paused=false)","background_color":"white","font_size":"14","text_align":"left","vertical_align":"top","show_tick":false,"tick_pos":"50%","tick_edge":"left","has_padding":true}},{"id":218044914492720,"layout":{"x":133,"y":12,"width":19,"height":5},"definition":{"type":"note","content":"[APM Traces Search](https://app.datadoghq.com/apm/traces?query=env%3Aprodsim&streamTraces=true&start=1627425909290&end=1627426809290&paused=false)","background_color":"white","font_size":"14","text_align":"left","vertical_align":"top","show_tick":false,"tick_pos":"50%","tick_edge":"left","has_padding":true}},{"id":7195586071731796,"layout":{"x":133,"y":30,"width":19,"height":5},"definition":{"type":"note","content":"[Synthetics Tests](https://app.datadoghq.com/synthetics/tests)","background_color":"white","font_size":"14","text_align":"left","vertical_align":"top","show_tick":false,"tick_pos":"50%","tick_edge":"left","has_padding":true}},{"id":5082946885566610,"layout":{"x":133,"y":42,"width":19,"height":5},"definition":{"type":"note","content":"[RUM Applications](https://app.datadoghq.com/rum/list?from_ts=1627340850585&to_ts=1627427250585&live=true)","background_color":"white","font_size":"14","text_align":"left","vertical_align":"top","show_tick":false,"tick_pos":"50%","tick_edge":"left","has_padding":true}},{"id":1280403132137190,"layout":{"x":133,"y":60,"width":19,"height":5},"definition":{"type":"note","content":"[RUM Sessions](https://app.datadoghq.com/rum/explorer?tab=session&from_ts=1627423709124&to_ts=1627427309124&live=true)","background_color":"white","font_size":"14","text_align":"left","vertical_align":"top","show_tick":false,"tick_pos":"50%","tick_edge":"left","has_padding":true}},{"id":6002726679910988,"layout":{"x":37,"y":30,"width":32,"height":14},"definition":{"title":"Network Errors by Pod","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"vertical","legend_columns":["max","value","avg"],"type":"timeseries","requests":[{"formulas":[{"alias":"Received Errors","formula":"query1"},{"alias":"Transmitted Errors","formula":"query2"}],"response_format":"timeseries","on_right_yaxis":false,"queries":[{"query":"sum:kubernetes.network.rx_errors{*,$namespace,$deployment,$scope,*,$daemonset,*,$cluster} by {pod_name}","data_source":"metrics","name":"query1"},{"query":"sum:kubernetes.network.tx_errors{*,$namespace,$deployment,$scope,*,$daemonset,*,$cluster} by {pod_name}","data_source":"metrics","name":"query2"}],"style":{"palette":"purple","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]}},{"id":4113955652705114,"layout":{"x":103,"y":60,"width":29,"height":14},"definition":{"title":"Most Network-intensive Services","title_size":"16","title_align":"left","time":{"live_span":"4h"},"type":"toplist","requests":[{"formulas":[{"formula":"exclude_null(query1)","limit":{"count":10,"order":"desc"}}],"response_format":"scalar","queries":[{"query":"sum:kubernetes.network.tx_bytes{$scope,$namespace,$service,*,!pod_name:no_pod,$cluster} by {kube_service,kube_namespace,kube_cluster_name}","data_source":"metrics","name":"query1","aggregator":"avg"}]}]}},{"id":1974549794933126,"layout":{"x":37,"y":60,"width":32,"height":14},"definition":{"title":"Most Disk-intensive Services","title_size":"16","title_align":"left","time":{"live_span":"4h"},"type":"toplist","requests":[{"formulas":[{"formula":"exclude_null(query1)","limit":{"count":10,"order":"desc"}}],"response_format":"scalar","queries":[{"query":"sum:kubernetes.filesystem.usage{$scope,$namespace,$service,*,!pod_name:no_pod,$cluster} by {kube_service,kube_namespace,kube_cluster_name}","data_source":"metrics","name":"query1","aggregator":"avg"}]}]}},{"id":251773463884386,"layout":{"x":70,"y":30,"width":32,"height":14},"definition":{"title":"CPU Usage by Container","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"vertical","legend_columns":["avg","max","value"],"type":"timeseries","requests":[{"formulas":[{"alias":"CPU Usage","formula":"query1"}],"response_format":"timeseries","on_right_yaxis":false,"queries":[{"query":"sum:kubernetes.cpu.usage.total{*,$namespace,$deployment,$scope,*,$daemonset,*,$cluster} by {kube_container_name,container_id}","data_source":"metrics","name":"query1"}],"style":{"palette":"purple","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]}},{"id":1167495790018670,"layout":{"x":103,"y":30,"width":29,"height":14},"definition":{"title":"Memory Usage by Container","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"vertical","legend_columns":["avg","max","value"],"type":"timeseries","requests":[{"formulas":[{"alias":"Memory Usage","formula":"query1"}],"response_format":"timeseries","on_right_yaxis":false,"queries":[{"query":"sum:kubernetes.memory.usage{*,$namespace,$deployment,$scope,*,$daemonset,*,$cluster} by {kube_container_name,container_id}","data_source":"metrics","name":"query1"}],"style":{"palette":"purple","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]}},{"id":1754691383087502,"layout":{"x":133,"y":18,"width":19,"height":5},"definition":{"type":"note","content":"[APM Traces Analytics](https://app.datadoghq.com/apm/analytics?query=env%3Aprodsim&streamTraces=true&start=1627678697105&end=1627679597105&paused=false)","background_color":"white","font_size":"14","text_align":"left","vertical_align":"top","show_tick":false,"tick_pos":"50%","tick_edge":"left","has_padding":true}},{"id":5222994268569928,"layout":{"x":133,"y":24,"width":19,"height":5},"definition":{"type":"note","content":"[APM Traces Map](https://app.datadoghq.com/apm/flow-map?query=env%3Aprodsim&streamTraces=true&start=1627678757108&end=1627679657108&paused=false)","background_color":"white","font_size":"14","text_align":"left","vertical_align":"top","show_tick":false,"tick_pos":"50%","tick_edge":"left","has_padding":true}},{"id":6695447845228290,"layout":{"x":133,"y":36,"width":19,"height":5},"definition":{"type":"note","content":"[CI Results Explorer](https://app.datadoghq.com/synthetics/explorer/ci)","background_color":"white","font_size":"14","text_align":"left","vertical_align":"top","show_tick":false,"tick_pos":"50%","tick_edge":"left","has_padding":true}},{"id":8941864784416336,"layout":{"x":133,"y":48,"width":19,"height":5},"definition":{"type":"note","content":"[RUM Sessions Search](https://app.datadoghq.com/rum/explorer?query=&agg_q=&tab=session&from_ts=1627594536443&to_ts=1627680936443&live=true)","background_color":"white","font_size":"14","text_align":"left","vertical_align":"top","show_tick":false,"tick_pos":"50%","tick_edge":"left","has_padding":true}},{"id":8297903432023982,"layout":{"x":133,"y":66,"width":19,"height":5},"definition":{"type":"note","content":"[RUM Performance](https://app.datadoghq.com/dash/integration/30292/RUM%20-%20Performance%20Overview?from_ts=1627594240093&to_ts=1627680640093&live=true)","background_color":"white","font_size":"14","text_align":"left","vertical_align":"top","show_tick":false,"tick_pos":"50%","tick_edge":"left","has_padding":true}},{"id":7312489924017100,"layout":{"x":133,"y":72,"width":19,"height":5},"definition":{"type":"note","content":"[RUM Resources](https://app.datadoghq.com/dash/integration/30308/RUM%20-%20Resources?from_ts=1627594329717&to_ts=1627680729717&live=true)","background_color":"white","font_size":"14","text_align":"left","vertical_align":"top","show_tick":false,"tick_pos":"50%","tick_edge":"left","has_padding":true}},{"id":8427989768319706,"layout":{"x":133,"y":78,"width":19,"height":5},"definition":{"type":"note","content":"[RUM Errors](https://app.datadoghq.com/dash/integration/30309/RUM%20-%20Errors?from_ts=1627594402678&to_ts=1627680802678&live=true)","background_color":"white","font_size":"14","text_align":"left","vertical_align":"top","show_tick":false,"tick_pos":"50%","tick_edge":"left","has_padding":true}},{"id":7374342414563326,"layout":{"x":133,"y":84,"width":19,"height":5},"definition":{"type":"note","content":"[RUM Mobile](https://app.datadoghq.com/dash/integration/30411/RUM%20-%20Mobile?from_ts=1627594467738&to_ts=1627680867738&live=true)","background_color":"white","font_size":"14","text_align":"left","vertical_align":"top","show_tick":false,"tick_pos":"50%","tick_edge":"left","has_padding":true}},{"id":1956139894853708,"layout":{"x":133,"y":54,"width":19,"height":5},"definition":{"type":"note","content":"[RUM Sessions Analytics](https://app.datadoghq.com/rum/analytics?agg_q=&from_ts=1627594536443&live=true&query=%40type%3Asession&to_ts=1627680936443)","background_color":"white","font_size":"14","text_align":"left","vertical_align":"top","show_tick":false,"tick_pos":"50%","tick_edge":"left","has_padding":true}},{"id":2709641125062508,"layout":{"x":133,"y":90,"width":21,"height":33},"definition":{"type":"note","content":"[MSW API Get Cloud Tenant](https://app.datadoghq.com/synthetics/details/ysm-apg-35z?live=1h/)\n\nhttps://app.datadoghq.com/dashboard/nik-w6h-gge/msw-dashboards\n\nhttps://app.datadoghq.com/dashboard/yh5-ujw-4vw/capturelabs---user-sessions\n\nhttps://app.datadoghq.com/dashboard/98f-4j8-svk/nsm-browser-synthetic-test\n\nhttps://app.datadoghq.com/dashboard/ivv-qwe-jee/wnm-browser-synthetic-test\n\n\nhttps://app.datadoghq.com/dashboard/i99-ycj-6wr/capture-client-36-pods\n\n","background_color":"transparent","font_size":"18","text_align":"center","vertical_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"left","has_padding":false}}],"template_variables":[{"name":"scope","default":"*"},{"name":"namespace","default":"*","prefix":"kube_namespace"},{"name":"deployment","default":"*","prefix":"kube_deployment"},{"name":"daemonset","default":"*","prefix":"kube_daemon_set"},{"name":"service","default":"*","prefix":"kube_service"},{"name":"node","default":"*","prefix":"node"},{"name":"label","default":"*","prefix":"label"},{"name":"database","default":"*","prefix":"statefulset"},{"name":"cluster","default":"eks-prodsim01-cluster","prefix":"cluster_name"}],"layout_type":"free","is_read_only":false,"notify_list":[],"id":"s6x-u9d-ih9"}